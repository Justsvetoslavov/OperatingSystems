# 2020-IN-01

Напишете програма на C, която приема три параметъра – имена на двоични файлове. <br />
Примерно извикване: <br />

```
$ ./main patch.bin f1.bin f2.bin
```

Файловете patch.bin и f1.bin съществуват, и на тяхна база програмата трябва да създаде f2.bin. <br />
Файлът patch.bin се състои от две секции – 16 байтов хедър и данни. На базата на хедъра програмата трябва да може да интерпретира съдържанието на файла. <br />
Структурата на хедъра е: <br />
- uint32_t, magic – магическа стойност 0xEFBEADDE, която дефинира, че файлът следва тази
спецификация
- uint8_t, header version – версия на хедъра, с единствена допустима стойност за момента 0x01, която дефинира останалите байтове от хедъра както следва:
    - uint8_t, data version – версия (описание) на използваните структури в секцията за данни на файла
    - uint16_t, count – брой записи в секцията за данни
    - uint32_t, reserved 1 – не се използва
    - uint32_t, reserved 2 – не се използва

Възможни структури в секцията за данни на файла спрямо data version: <br />
- при версия 0x00
    - uint16_t, offset
    - uint8_t, original byte
    - uint8_t, new byte
- при версия 0x01
    - uint32_t, offset
    - uint16_t, original word
    - uint16_t, new word
- забележка: и при двете описани версии offset е отместване в брой елементи спрямо началото на файла

Двоичните файлове f1.bin и f2.bin се третират като състоящи се от елементи спрямо data version в patch.bin. <br />
Програмата да създава файла f2.bin като копие на файла f1.bin, но с отразени промени на базата на файла patch.bin, при следния алгоритъм: <br />
- за всяка наредена тройка от секцията за данни на patch.bin, ако на съответният offset в оригиналния файл f1.bin е записан елементът original byte/word, в изходният файл се записва new byte/word. Ако не е записан такъв елемент или той не съществува, програмата да прекратява изпълнението си по подходящ начин;
- всички останали елементи се копират директно.

Наредените тройки в секцията за данни на файла patch.bin да се обработват последователно. <br />
Обърнете внимание на обработката за грешки и съобщенията към потребителя – искаме програмата да бъде удобен и валиден инструмент. <br />