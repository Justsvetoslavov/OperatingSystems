# 2021-SE-01
Разполагате с машина, на която е инсталиран специализиран софтуер, който ползва два потребителски акаунта – oracle и grid. <br />
Всеки от потребителите би трябвало да има environment променлива ORACLE_HOME, която указва абсолютен път до директория във формат /path/to/dir. <br />
В поддиректория bin на зададената директория би трябвало да има изпълним файл с име adrci. <br />
Всеки от двата потребителя има собствена директория diag_dest, която е във вида /u01/app/потребител. <br />
Когато някой от потребителите изпълни неговото копие на командата adrci с параметър exec="show homes" може да получи на STDOUT един от следните два изхода:
- вариант 1: (неуспех): No ADR homes are set
- вариант 2: (успех):
```
ADR Homes:
diag/rdbms/orclbi/orclbi1
diag/rdbms/orclbi/orclbi2
```
И в двата случая командата приключва с exit code 0. <br />
Ако командата се изпълни успешно, тя връща списък с един или повече ADR Homes, които са релативни имена на директории спрямо diag_dest на съответният потребител. <br />
Напишете скрипт, който може да се изпълнява само от някой от тези два акаунта, и извежда на STDOUT размера в мегабайти и абсолютният път на всеки ADR Home. <br />
```
Примерен изход:
0 /u01/app/oracle/diag/rdbms/orclbi/orclbi1
389 /u01/app/oracle/diag/rdbms/orclbi/orclbi2
```

# 2021-SE-02
Един от често използваните DNS сървъри е BIND9, при който описанието на DNS зоните обикновенно стои в текстови файлове, наричани зонални файлове. <br />
За улеснение, в рамките на задачата, ще ползваме опростено описание на зоналните файлове.
Под whitespace разбираме произволна комбинация от табове и интервали. <br />
Под FQDN разбираме низ, който има допустими символи малки латински букви, цифри и точка; не
може да започва с точка, не може да има две или повече съседни точки, задължително завършва
с точка. <br />
Зоналните файлове съдържат ресурсни записи, по един на ред. Общият вид на даден ресурсен запис
e `<ключ> <TTL> <клас> <тип> <RDATA>`, разделени с whitespace, например:
```
astero.openfmi.net. 3600 IN A 185.117.82.99
```
Където:
- ключ (astero.openfmi.net.) – FQDN
- TTL (3600) – цифри; полето може да липсва
- клас (IN) - главни латински букви; класът винаги е IN
- тип (A) - главни латински букви; някое от SOA, NS, A, AAAA
- RDATA (185.117.82.99) - данни на записа; различни за различните типове ресурсни записи;
всичко след типа до края на реда.
Знакът точка-и-запетая ; е знак за коментар, и всичко след него до края на реда се игнорира. <br />
Във всеки зонален файл трябва да има точно един SOA запис, и той трябва да е първият запис във
файла. <br />
Пример за едноредов SOA запис:
```
openfmi.net. 3600 IN SOA nimbus.fccf.net. root.fccf.net. 2021041901 86400 7200 3024000 3600
```
RDATA-та на SOA запис се състои от два FQDN-а и пет числа, разделени с whitespace. <br />
Въпреки, че горното е валиден SOA запис, за прегледност в зоналните файлове често се ползва
следният синтаксис (многоредов SOA запис, еквивалентен на горния):
```
openfmi.net. 3600 IN SOA nimbus.fccf.net. root.fccf.net. (
                        2021041901 ; serial
                        86400 ; refresh
                        7200 ; retry
                        3024000 ; expire
                        3600 ; negative TTL
                    )
```

т.е., поредицата от числа се разбива на няколко реда, оградени в обикновенни скоби, и за всяко
число се слага коментар какво означава. <br />
Първото от тези числа (serial) представлява серийният номер на зоната, който трябва да се увели-
чава всеки път, когато нещо в зоналният файл се промени. <br />
Изключително важно е това число само да нараства, и никога да не намалява. <br />
Един от често използваните формати за сериен номер, който показва кога е настъпила последната промяна в зоналния файл представлява число във вида YYYYMMDDTT, т.е., четири цифри за година, две цифри за месец, две цифри за дата и още две цифри за поредна промяна в рамките на описания ден. <br />
За последните две цифри (ТТ) има ограничение да са от 00 до 99 (естествено, така не може да има повече от 100 промени в рамките на един ден). <br />
За удобство приемаме, че конкретен сериен номер (точната поредица цифри) се среща само на едно
място в зоналния файл. <br />

Напишете шел скрипт, който по подадени имена на зонални файлове променя серийният номер в
SOA записа на всеки файл по следният алгоритъм:
- ако датата в серийният номер е по-стара от днешната, новият сериен номер трябва да е от вида днешнадата00
- ако датата в серийният номер е равна на днешната, серийният номер трябва да се увеличи с единица

Важат следните условия:
- скриптът трябва да може да обработва и едноредови, и многоредови SOA записи
- за всеки зонален файл, който не е успял да обработи, скриптът трябва да вади съобщение за грешка, което включва и името на зоналния файл. Съобщенията трябва да са лесно обработваеми с познатите инструменти за обработка на текст.

# 2021-SE-03
Напишете shell скрипт, който приема два позиционни параметъра – имена на файлове. Примерно извикване:
```
$ ./foo.sh input.bin output.h
```
Файлът input.bin е двоичен файл с елементи uint16_t числа, създаден на little-endian машина.
Вашият скрипт трябва да генерира C хедър файл, дефиниращ масив с име arr, който:
- съдържа всички елементи от входния файл;
- няма указана големина;
- не позволява промяна на данните.
Генерираният хедър файл трябва да:
- съдържа и uint32_t променлива arrN, която указва големината на масива;
- бъде валиден и да може да се #include-ва без проблеми от C файлове, очакващи да “виждат” arr и arrN.
За да е валиден един входен файл, той трябва да съдържа не повече от 524288 елемента.
За справка, dump на съдържанието на примерен input.bin:
```
00000000: 5555 6555 5955 5a55 6555 6655 6955 6a55 UUVUYUZUeUfUiUjU
00000010: 9555 9655 9955 9a55 a555 a655 a955 aa55 .U.U.U.U.U.U.U.U
```

# 2021-SE-04
Разполагате с машина, на която е инсталиран специализиран софтуер, който ползва два потребителски акаунта – oracle и grid. <br />
За всеки от двата акаунта съществува директория, която ще наричаме diag_dest и тя е от вида /u01/app/потребител. <br />
Всеки от потребителите би трябвало да има environment променлива ORACLE_HOME, която указва абсолютен път до директория във формат /път/до/дир. <br />
В поддиректорията bin на зададената директория би трябвало да има изпълним файл с име adrci. <br />
Всеки от потребителите може да подаде серия от подкоманди, които неговото копие на adrci да изпълни, като го извика с параметър exec="cmd1; cmd2; cmd3". <br />         
Отделните подкоманди се разделят с точка и запетая (;). <br />
Командата adrci винаги приключва с exit code 0. <br />

Нека дефинираме следните подкоманди:
- SET BASE – за да се гарантира правилна работа на командата adrci, при всяко нейно извикване първата подкоманда трябва да бъде от вида SET BASE diag_dest, където diag_dest е абсолютният път на съответната директория за дадения потребител
- SHOW HOMES – подкоманда SHOW HOMES извежда на STDOUT един от следните два изхода:
    - вариант 1: (неуспех): No ADR homes are set
    - вариант 2: (успех):
    ```
    ADR Homes:
    diag/rdbms/orclbi/orclbi1
    diag/rdbms/orclbi/orclbi2
    ```
Ако командата се изпълни успешно, тя връща списък с един или повече ADR Homes, които са релативни имена на директории спрямо diag_dest на съответният потребител. <br />
От полученият списък с релативни пътища интересни за нас са само тези, които за име на директория на второ ниво имат една от следните директории: crs, tnslsnr, kfod, asm или rdbms. <br />
- SET HOMEPATH – подкоманда SET HOMEPATH път задава активна работна директория, спрямо която ще се изпълняват последващи подкоманди в рамките на същото изпълнение на adrci; <br />
път е релативен път до директория, спрямо изхода на SHOW HOMES <br />
- PURGE – подкоманда `PURGE -AGE минути` изтрива определени файлове в текущо активната работна директория, по-стари от дефинираното време в минути.<br /> 
Забележка: изтриват се само безопасни файлове, т.е. такива, чието изтриване няма да доведе до проблем. <br />
Дефиницията на безопасни файлове е извън обхвата на тази задача. <br />
Напишете shell скрипт, който може да се изпълнява само от някой от указаните два акаунта и приема задължителен първи позиционен аргумент число (в часове, минимална стойност 2 часа). <br />
Скриптът трябва да почиства безопасните файлове по-стари от зададените часове в интересните
ADR Home-ове на съответния потребител. <br />
